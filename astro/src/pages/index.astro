---
import Layout from "@layouts/BaseLayout.astro";

import TagFilters from "@solidcomponents/TagFilter";
import RecipeGrid from "@solidcomponents/RecipeGrid";

import { setCache } from "@utils/cache.js";
import { getRecipes, getTags } from "./../utils/api";

const recipes = await getRecipes();
const tags = await getTags();

if (recipes) {
    setCache.short(Astro);
}

---

<Layout title="Burnbook">
    <RecipeGrid recipesdata={recipes} client:load />
    <TagFilters tagsdata={tags} client:load />
</Layout>